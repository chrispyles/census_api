<!DOCTYPE html>

<!--
		Generated using Markdown to HTML Converter by Chris Pyles.
		More at https://github.com/chrispyles/markdown-to-html
-->

<html>
<head>
	<title>census_api Docuemntation</title>
	<meta name="description" content="docuemntation for Python package census_api">
	<meta name="author" content="Chris Pyles">
	<link href="https://fonts.googleapis.com/css?family=Poppins:400,400i,600,700|Roboto:400,400i,700&display=swap" rel="stylesheet">
	<style type="text/css">

		/* CSS for MD to HTML Converter
			by Chris Pyles */

    	body {
    		margin-top: -27px;
    		margin-left: 0;
    		background-color: #00b0da;
    	}

		h1, h2, h3, h4, h5, h6 {
			font-family: 'Roboto', sans-serif;
			font-weight: 600;
		}

		h1, h2 {
			letter-spacing: 1px;
		}

		h1 {
			font-size: 30pt;
		}

		h2 {
			font-size: 20pt;
		}

		h3 {
			font-size: 14pt;
		}

		p, ul, th, td, ol {
			font-family: 'Roboto', sans-serif;
			font-size: 12pt;
		}

		p#header {
			color: white;
			padding-left: 235px;
		}

		ul.nav {
			list-style-type: none;
			padding-left: 15px;
		}

		li.nav {
			padding-left: 20px;
			width: 230px;
		}

		li.nav:hover {
			background-color: rgba(256, 256, 256, 0.5);
		}

		th, td {
			border-top: 1px solid black;
			border-left: 1px solid black;
			text-align: center;
			padding: 5px 2px;
		}

		th {
			font-weight: 600;
		}

		div {
			width: 800px;
			margin: 0 0 0 255px;
			background-color: white;
			padding: 0 20px;
			margin-top: -27px;
		}

		div#top {
			background-color: #46535e;
			margin-top: 27px;
			width: 100%;
			height: 52px;
			margin-left: 0;
			position: fixed;
			z-index: 1;
		}

		div#body {
			position: absolute;
			margin-top: 60px;
			overflow: scroll;
		}

		table {
			width: 75%;
			margin: 0 auto;
			border-right: 1px solid black;
			border-bottom: 1px solid black;
			border-spacing: 0;
			table-layout: fixed;
		}

		table#header {
			width: 100%;
		    height: auto;
		    border: none;
		}

		p.code {
			width: 95%;
			margin: 10px auto;
			padding: 10px;
			background-color: rgba(222, 222, 222, 0.5);
		}

		nav {
			position: fixed;
			width: 250px;
			padding-left: 5px;
			height: 100%;
			background-color: #46535e;
			color: white;
			margin-top: 36px;
			padding-top: 6px;
			z-index: 2;
		}

		a.nav:link, a.nav:hover, a.nav:visited, a.nav:active {
			color: white;
		}

		/* Resize div for Pygments. */
		div.highlight {
			font-size: 12pt;
			width: 95%;
			margin: 10px auto;
			padding: 10px;
			background-color: #1d1e19;
			color: #f6f7ee;
			overflow: scroll;
		}

		pre {
			margin: 0;
		}

		/* Below is imported the style from Pygments. */

		.hll { background-color: #ffffcc }
.c { color: #fd8700; font-style: italic } /* Comment */
.g { color: #fd8700 } /* Generic */
.k { color: #53d1ed; font-weight: bold } /* Keyword */
.n { color: #f6f7ee } /* Name */
.o { color: #f7005f } /* Operator */
.ch { color: #fd8700; font-style: italic } /* Comment.Hashbang */
.cm { color: #fd8700; font-style: italic } /* Comment.Multiline */
.cp { color: #fd8700; font-style: italic } /* Comment.Preproc */
.cpf { color: #fd8700; font-style: italic } /* Comment.PreprocFile */
.c1 { color: #fd8700; font-style: italic } /* Comment.Single */
.cs { color: #fd8700; font-style: italic } /* Comment.Special */
.gd { color: #fd8700 } /* Generic.Deleted */
.ge { color: #fd8700 } /* Generic.Emph */
.gr { color: #fd8700 } /* Generic.Error */
.gh { color: #fd8700 } /* Generic.Heading */
.gi { color: #fd8700 } /* Generic.Inserted */
.go { color: #fd8700 } /* Generic.Output */
.gp { color: #fd8700 } /* Generic.Prompt */
.gs { color: #fd8700 } /* Generic.Strong */
.gu { color: #fd8700 } /* Generic.Subheading */
.gt { color: #fd8700 } /* Generic.Traceback */
.kc { color: #53d1ed; font-weight: bold } /* Keyword.Constant */
.kd { color: #53d1ed; font-weight: bold } /* Keyword.Declaration */
.kn { color: #53d1ed; font-weight: bold } /* Keyword.Namespace */
.kp { color: #53d1ed; font-weight: bold } /* Keyword.Pseudo */
.kr { color: #53d1ed; font-weight: bold } /* Keyword.Reserved */
.kt { color: #53d1ed; font-weight: bold } /* Keyword.Type */
.m { color: #9d60ff } /* Literal.Number */
.s { color: #e0d75a } /* Literal.String */
.na { color: #f6f7ee } /* Name.Attribute */
.nb { color: #f6f7ee } /* Name.Builtin */
.nc { color: #53d1ed; font-weight: bold } /* Name.Class */
.no { color: #f6f7ee } /* Name.Constant */
.nd { color: #f6f7ee } /* Name.Decorator */
.ni { color: #f6f7ee } /* Name.Entity */
.ne { color: #f6f7ee } /* Name.Exception */
.nf { color: #96e309 } /* Name.Function */
.nl { color: #f6f7ee } /* Name.Label */
.nn { color: #f6f7ee } /* Name.Namespace */
.nx { color: #f6f7ee } /* Name.Other */
.py { color: #f6f7ee } /* Name.Property */
.nt { color: #f6f7ee } /* Name.Tag */
.nv { color: #f6f7ee } /* Name.Variable */
.ow { color: #f7005f } /* Operator.Word */
.mb { color: #9d60ff } /* Literal.Number.Bin */
.mf { color: #9d60ff } /* Literal.Number.Float */
.mh { color: #9d60ff } /* Literal.Number.Hex */
.mi { color: #9d60ff } /* Literal.Number.Integer */
.mo { color: #9d60ff } /* Literal.Number.Oct */
.sa { color: #e0d75a } /* Literal.String.Affix */
.sb { color: #e0d75a } /* Literal.String.Backtick */
.sc { color: #e0d75a } /* Literal.String.Char */
.dl { color: #e0d75a } /* Literal.String.Delimiter */
.sd { color: #e0d75a } /* Literal.String.Doc */
.s2 { color: #e0d75a } /* Literal.String.Double */
.se { color: #e0d75a } /* Literal.String.Escape */
.sh { color: #e0d75a } /* Literal.String.Heredoc */
.si { color: #e0d75a } /* Literal.String.Interpol */
.sx { color: #e0d75a } /* Literal.String.Other */
.sr { color: #e0d75a } /* Literal.String.Regex */
.s1 { color: #e0d75a } /* Literal.String.Single */
.ss { color: #e0d75a } /* Literal.String.Symbol */
.bp { color: #f6f7ee } /* Name.Builtin.Pseudo */
.fm { color: #96e309 } /* Name.Function.Magic */
.vc { color: #f6f7ee } /* Name.Variable.Class */
.vg { color: #f6f7ee } /* Name.Variable.Global */
.vi { color: #f6f7ee } /* Name.Variable.Instance */
.vm { color: #f6f7ee } /* Name.Variable.Magic */
.il { color: #9d60ff } /* Literal.Number.Integer.Long */

	</style>
</head>
<body>
				<div id="top">

				<table id="header"><tr><td style="border: none;">
				<p id="header" style="text-align: left;">
				<a class="nav" href="index.html">Home</a> &nbsp;<span style="font-size: 9pt;">â–º</span>&nbsp; Usage
				</p></td><td style="border: none;">
				<p id="header" style="text-align: right; margin-right: 38px; padding-left: 0;">
				census_api Docuemntation
				</p></td></tr></table>

				</div>
				<nav>
<h3 style="padding-left: 20px;">Docuemntation</h3>
<ul class="nav">
<li class="nav"><a class="nav" href="index.html">Home</a></li>
<li class="nav"><a class="nav" href="usage.html">Usage</a></li>
<li class="nav"><a class="nav" href="docs.html">Docs</a></li>
<li class="nav"><a class="nav" href="license.html">License</a></li>
</nav><div id="body">

<h1>Usage</h1>

<p>This page gives information on how to use the <code>census_api</code> package.</p>

<h2>Before you Start</h2>

<p>Before you begin working with the US Census API, you need to obtain an API key. This can be done <a href="https://api.census.gov/data/key_signup.html">here</a>. I recommend putting your API key in a config.py file and adding this file to your <code>.gitignore</code> so that your key is saved offline if you intend on saving your results on Github.</p>

<h2>Using the Package</h2>

<p>To use the <code>census_api</code> package, start by importing the library and the config file in which you placed your API key. In your working file, create an instance of the <code>CensusQuery</code> class. This requires you to pass your API key and a string identifying the dataset you would like to query. <em>As of now, we only support querying the ACS1 (<code>"acs1"</code>), ACS5 (<code>"acs5"</code>), and SF1 (<code>"sf1"</code>) datasets.</em> You can optionally also pass a year and an <a href="#Outputs">output type</a> to the class instance.</p>

<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">config</span>
<span class="kn">import</span> <span class="nn">census_api</span>
<span class="n">c</span> <span class="o">=</span> <span class="n">CensusQuery</span><span class="p">(</span><span class="n">config</span><span class="o">.</span><span class="n">api_key</span><span class="p">,</span> <span class="s2">&quot;acs5&quot;</span><span class="p">,</span> <span class="n">year</span><span class="o">=</span><span class="mi">2016</span><span class="p">)</span>
</pre></div>


<p>If you don't pass a year to the <code>CensusQuery</code> instance, you must pass it when you call <code>CensusQuery.query</code>. If you do pass a year, the year argument is optional in <code>CensusQuery.query</code>, but if it is passed, the instance variable will be ignored in favor of the year passed to <code>CensusQuery.query</code>.</p>

<p>To actually query the API, you must call <code>CensusQuery.query</code>. The required arguments are the list of variables to extract and the state (as its 2-letter abbreviation). You can also narrow your results by optionally passing a county name and a tract FIPS code, but these are not required. If they are not passed, the query returns all counties and all tracts. There is also an optional year argument, discussed in the previous paragraph.</p>

<div class="highlight"><pre><span></span><span class="n">c</span><span class="o">.</span><span class="n">query</span><span class="p">([</span><span class="s2">&quot;NAME&quot;</span><span class="p">,</span> <span class="s2">&quot;B00001_001E&quot;</span><span class="p">,</span> <span class="s2">&quot;B01001_002M&quot;</span><span class="p">,</span> <span class="s2">&quot;B06007PR_031E&quot;</span><span class="p">],</span> <span class="s2">&quot;CA&quot;</span><span class="p">)</span>
</pre></div>


<p>If we wanted only tract 4010 of Alameda County in 2014, the call would be</p>

<div class="highlight"><pre><span></span><span class="n">c</span><span class="o">.</span><span class="n">query</span><span class="p">([</span><span class="s2">&quot;NAME&quot;</span><span class="p">,</span> <span class="s2">&quot;B00001_001E&quot;</span><span class="p">,</span> <span class="s2">&quot;B01001_002M&quot;</span><span class="p">,</span> <span class="s2">&quot;B06007PR_031E&quot;</span><span class="p">],</span> <span class="s2">&quot;CA&quot;</span><span class="p">,</span> <span class="n">county</span><span class="o">=</span><span class="s2">&quot;Alameda&quot;</span><span class="p">,</span> <span class="n">tract</span><span class="o">=</span><span class="s2">&quot;4010&quot;</span><span class="p">,</span> <span class="n">year</span><span class="o">=</span><span class="mi">2014</span><span class="p">)</span>
</pre></div>


<p>For more information on the variables, see the <a href="https://api.census.gov/data/2009/acs5/variables.html">Census API documentation</a>. This page lists all of the data sets by year, so find the year and dataset that you are looking for and then click on "variables" in its row.</p>

<h2>Outputs</h2>

<p>This package supports rendering outputs in two forms: as a <code>pandas</code> DataFrame or as a <code>datascience</code> Table. The class defaults to a DataFrame, but this is overridden by passing the optional <code>out</code> argument when creating the <code>CensusQuery</code> instance. This argument defaults to the string <code>"pd"</code>, but if <code>"ds"</code> is passed instead, the outputs will be Tables rather than DataFrames.</p>

<div class="highlight"><pre><span></span><span class="n">ds_c</span> <span class="o">=</span> <span class="n">CensusQuery</span><span class="p">(</span><span class="n">config</span><span class="o">.</span><span class="n">api_key</span><span class="p">,</span> <span class="s2">&quot;acs5&quot;</span><span class="p">,</span> <span class="n">year</span><span class="o">=</span><span class="mi">2016</span><span class="p">,</span> <span class="n">out</span><span class="o">=</span><span class="s2">&quot;ds&quot;</span><span class="p">)</span>
</pre></div>


<p>For more information on how to use the package, launch our <a href="https://mybinder.org/v2/gh/chrispyles/census_api/master?filepath=demo%2Fcensus_api-demo.ipynb">Binder</a>.</p>

</div></body>
</html>
